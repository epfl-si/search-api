version: '3.2'

services:
  search-api:
    build:
      context: .
      dockerfile: ./docker/Dockerfile
    image: search-api
    container_name: search-api
    environment:
      - SEARCH_API_ENABLE_CSE=${SEARCH_API_ENABLE_CSE}
      - SEARCH_API_ENABLE_LDAP=${SEARCH_API_ENABLE_LDAP}
      - SEARCH_API_ENABLE_UNIT=${SEARCH_API_ENABLE_UNIT}
      - SEARCH_API_ENABLE_GRAPHSEARCH=${SEARCH_API_ENABLE_GRAPHSEARCH}
      - SEARCH_API_CSE_API_KEY=${SEARCH_API_CSE_API_KEY}
      - SEARCH_API_CSE_CX=${SEARCH_API_CSE_CX}
      - SEARCH_API_CADIDB_HOST=${SEARCH_API_CADIDB_HOST}
      - SEARCH_API_CADIDB_PORT=${SEARCH_API_CADIDB_PORT}
      - SEARCH_API_CADIDB_DATABASE=${SEARCH_API_CADIDB_DATABASE}
      - SEARCH_API_CADIDB_USER=${SEARCH_API_CADIDB_USER}
      - SEARCH_API_CADIDB_PASSWORD=${SEARCH_API_CADIDB_PASSWORD}
      - SEARCH_API_LDAP_URL=${SEARCH_API_LDAP_URL}
      - SEARCH_API_LDAP_ROOTS_FILTER=${SEARCH_API_LDAP_ROOTS_FILTER}
    ports:
      - '5555:5555'
